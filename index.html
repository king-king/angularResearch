<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <meta charset="UTF-8">
    <title>angular test</title>
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/bootstrap-theme.css" rel="stylesheet">

    <script src="lib/angular-1.6.0.js"></script>
    <script type="text/ng-template" id="productTemplate">
        <td>{{item.name}}</td>
        <td><input ng-model='item.quantity'></td>
    </script>
    <script>
        angular.module("myApp", []).controller("ctrl", function ($scope) {
            $scope.products = [
                {
                    name: "apple",
                    price: 1.20,
                    quantity: 20
                }, {
                    name: "banana",
                    price: 2.20,
                    quantity: 33
                }, {
                    name: "pear",
                    price: 4.20,
                    quantity: 45
                }, {
                    name: "orange",
                    price: 9.90,
                    quantity: 78
                }
            ]
        }).directive("productItem", function () {
            return {
                template: document.querySelector("#productTemplate").outerText
            }
        }).directive("productTable", function () {
            return {
                transclude: true,
                scope: {value: "=productTable", data: "=productData"}
            }
        });
    </script>
</head>
<body ng-controller="ctrl">
<div class="panel panel-default">
    <div class="panel-body">
        <table class="table table-striped" data-product-table="totalValue" data-data="products" ng-transclude>
            <tr>
                <th>name</th>
                <th>quantity</th>
            </tr>
            <tr data-ng-repeat="item in products" data-product-item></tr>
            <tr>
                <th>total:</th>
                <td>{{totalValue}}</td>
            </tr>
        </table>
    </div>
</div>
</body>
</html>